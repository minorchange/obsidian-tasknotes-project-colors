var i=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var p=Object.prototype.hasOwnProperty;var b=(n,s)=>{for(var e in s)i(n,e,{get:s[e],enumerable:!0})},m=(n,s,e,r)=>{if(s&&typeof s=="object"||typeof s=="function")for(let t of f(s))!p.call(n,t)&&t!==e&&i(n,t,{get:()=>s[t],enumerable:!(r=h(s,t))||r.enumerable});return n};var y=n=>m(i({},"__esModule",{value:!0}),n);var v={};b(v,{default:()=>l});module.exports=y(v);var u=require("obsidian"),l=class extends u.Plugin{constructor(){super(...arguments);this.observer=null}async onload(){this.observer=new MutationObserver(e=>{for(let r of e)for(let t of r.addedNodes)t instanceof HTMLElement&&this.colorCards(t)}),this.observer.observe(document.body,{childList:!0,subtree:!0}),this.colorCards(document.body)}onunload(){var e;(e=this.observer)==null||e.disconnect(),this.observer=null,document.querySelectorAll(".tasknotes-plugin .task-card").forEach(r=>{r.style.removeProperty("--project-hue")})}colorCards(e){var t;let r=e.querySelectorAll(".tasknotes-plugin .task-card__project-link[data-href]");for(let c of r){let o=c.closest(".task-card");if(!o||o.style.getPropertyValue("--project-hue"))continue;let a=c.getAttribute("data-href");if(!a)continue;let d=this.djb2(a)%360;o.style.setProperty("--project-hue",String(d))}if((t=e.matches)!=null&&t.call(e,".task-card")){let c=e.querySelector(".task-card__project-link[data-href]");if(c&&!e.style.getPropertyValue("--project-hue")){let o=c.getAttribute("data-href");if(o){let a=this.djb2(o)%360;e.style.setProperty("--project-hue",String(a))}}}}djb2(e){let r=5381;for(let t=0;t<e.length;t++)r=(r<<5)+r+e.charCodeAt(t)>>>0;return r}};
